<!DOCTYPE html>
<html>
<head>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    
    <title>DASHBOARD | Paradox HQ</title>
    <style>
        body { background: #050505; color: white; font-family: 'Orbitron', sans-serif; display: flex; margin: 0; min-height: 100vh; }
        .sidebar { width: 250px; border-right: 2px solid #ff4500; min-height: 100vh; padding: 20px; background: #0a0a0a; position: fixed; }
        .main { flex: 1; margin-left: 290px; padding: 40px; background: #050505; }
        .match-card { background: rgba(255,69,0,0.05); border: 1px solid #ff4500; padding: 20px; border-radius: 10px; margin: 10px; display: inline-block; width: 220px; }
        .btn-master { padding: 10px 20px; background: #ff4500; color: white; border: none; cursor: pointer; font-weight: bold; margin-top: 10px; width: 100%; }
        #admin-content { display: none; margin-top: 30px; } /* Pehle hidden rahega [cite: 2025-12-23] */
        .scroll-box { height: 150px; overflow-y: scroll; background: #000; padding: 10px; border: 1px solid #333; font-size: 12px; }
    </style>
</head>
<body>
    <div class="sidebar">
        <h2 style="color:#ff4500">GHOST<span>PLAYS</span></h2>
        <p style="font-size: 10px; color: #888;">OWNER: 2-CORE / 4GB RAM [cite: 2025-12-18]</p>
        <hr>
        <div id="login-section">
            <button onclick="masterLogin()" class="btn-master">MASTER LOGIN</button>
        </div>
        <div id="status-section" style="display:none;">
            <p style="color: #00ff00; font-size: 12px;">‚úÖ VERIFIED ADMIN</p>
            <button onclick="firebase.auth().signOut()" style="background:none; color:red; border:none; cursor:pointer; font-size:10px;">LOGOUT</button>
        </div>
        <hr>
        <p onclick="location.href='setting.html'" style="cursor:pointer; color: #ccc;">‚öôÔ∏è SETTINGS</p>
    </div>

    <div class="main">
        <h1>LIVE MONITOR</h1>
        <div class="match-card"><h3>MATCH 01</h3><h2 id="m1-count">0/30</h2></div>
        
        <div id="admin-content">
            <h2 style="color:#ff4500; border-bottom: 1px solid #ff4500;">MASTER CONTROL PANEL</h2>
            <div style="display:flex; justify-content:space-between; margin-top: 20px;">
                <div style="width:48%;">
                    <h3 style="color:red;">üö® LIVE ALERTS</h3>
                    <div id="alert-list" class="scroll-box">Waiting...</div>
                </div>
                <div style="width:48%;">
                    <h3 style="color:#00ffff;">üë• ACTIVE PLAYERS</h3>
                    <div id="player-list" class="scroll-box">No one online.</div>
                </div>
            </div>
            <div style="margin-top:30px; text-align:center;">
                <input id="target-uid-input" placeholder="Enter Hacker UID..." style="padding:12px; width:300px; background:#111; border:1px solid #ff4500; color:white;">
                <button onclick="masterBanAction()" style="padding:12px 25px; background:red; color:white; border:none; cursor:pointer; font-weight:bold;">PERMANENT BAN</button>
            </div>
        </div>
    </div>

    <script>
        // 1. Firebase Config (Apni Details Dalain) [cite: 2025-12-18]
       const firebaseConfig = {
  apiKey: "AIzaSyBAotUvNVp6WYkJJrI6mSgfda7C1Vv8ySE",
  authDomain: "login-sky-force.firebaseapp.com",
  databaseURL: "https://login-sky-force-default-rtdb.firebaseio.com",
  projectId: "login-sky-force",
  storageBucket: "login-sky-force.firebasestorage.app",
  messagingSenderId: "128035580590",
  appId: "1:128035580590:web:f6527ec890f79a6aac9b3f",
  measurementId: "G-M4KND05BRK"
};

        firebase.initializeApp(firebaseConfig);

        // 2. Master Login Function [cite: 2025-12-18]
        function masterLogin() {
            const provider = new firebase.auth.GoogleAuthProvider();
            firebase.auth().signInWithPopup(provider).catch(err => alert(err.message));
        }

        // 3. Auth Listener (Access Control) [cite: 2025-12-23]
        const MASTER_UID = "qo9pEdaJxlepuswu7UTRwBFjXSA2"; // Aapki UID

        firebase.auth().onAuthStateChanged((user) => {
            if (user && user.uid === MASTER_UID) {
                // Unlock Dashboard [cite: 2025-12-23]
                document.getElementById('login-section').style.display = "none";
                document.getElementById('status-section').style.display = "block";
                document.getElementById('admin-content').style.display = "block";
                startMasterSync();
            } else if (user) {
                alert("Unauthorized! Only Ghost Plays allowed.");
                firebase.auth().signOut();
            } else {
                document.getElementById('login-section').style.display = "block";
                document.getElementById('status-section').style.display = "none";
                document.getElementById('admin-content').style.display = "none";
            }
        });

        function startMasterSync() {
            // Live Stats [cite: 2025-12-18]
            firebase.database().ref('live_matches').on('value', (snap) => {
                let players = snap.val() || {};
                document.getElementById('m1-count').innerText = Object.keys(players).length + "/30";
                
                let pList = "";
                for(let id in players) pList += `<div>üë§ ${id.substring(0,8)}...</div>`;
                document.getElementById('player-list').innerHTML = pList;
            });

            // Live Alerts [cite: 2025-12-23]
            firebase.database().ref('alerts').on('child_added', (snap) => {
                let a = snap.val();
                document.getElementById('alert-list').innerHTML = `<div>‚ö†Ô∏è ${a.reason}</div>` + document.getElementById('alert-list').innerHTML;
            });
        }

        function masterBanAction() {
            let uid = document.getElementById('target-uid-input').value;
            if(uid) {
                firebase.database().ref('players/' + uid).update({ isBanned: true });
                alert("Banned! üèÅ");
            }
        }
    </script>
</body>
</html>
